<!DOCTYPE html>
<html>
<head>
  <title>URL Auto Save Extension</title>
  <script src="https://cdn.jsdelivr.net/npm/contentstack-ui-extensions-sdk@3.0.0"></script>
</head>
<body>
  <label>Auto-copied URL:</label>
  <input type="text" id="urlField" disabled />

  <script>
    ContentstackUIExtension.init().then(async (extension) => {
      const entryData = await extension.entry.getData();
      const url = entryData.url || '';

      // Display in input field
      const input = document.getElementById('urlField');
      input.value = url;

      // Auto-save to custom field
      await extension.field.setData(url);

      extension.window.updateHeight();
    });
  </script>
</body>
</html>
